## 项目结构树
```plain
D:\PROJECTFILE\数字马力\PERMISSION_MANAGEMENT_SYS
|   docker-compose.yml
|   show_tree.bat
|
+---back_end
|   \---pm-sys
|       |   .gitignore
|       |   pom.xml
|       |
|       +---.idea
|       |   |   .gitignore
|       |   |   compiler.xml
|       |   |   dataSources.local.xml
|       |   |   dataSources.xml
|       |   |   encodings.xml
|       |   |   git_toolbox_blame.xml
|       |   |   jarRepositories.xml
|       |   |   misc.xml
|       |   |   uiDesigner.xml
|       |   |   vcs.xml
|       |   |   workspace.xml
|       |   |
|       |   \---dataSources
|       |       |   51f79901-9173-4e8a-9fc3-bece401d7ec6.xml
|       |       |
|       |       \---51f79901-9173-4e8a-9fc3-bece401d7ec6
|       |           \---storage_v2
|       |               \---_src_
|       |                   \---schema
|       |                           logging_db.XvVNJg.meta
|       |                           permission_db.7qSnqg.meta
|       |                           user_db_0.o2Q1FA.meta
|       |                           user_db_1.pGQ1FA.meta
|       |
|       +---logging-service
|       |   |   pom.xml
|       |   |
|       |   +---src
|       |   |   +---main
|       |   |   |   +---java
|       |   |   |   |   \---com
|       |   |   |   |       \---digit
|       |   |   |   |           \---logging
|       |   |   |   |               |   LoggingServiceApplication.java
|       |   |   |   |               |
|       |   |   |   |               +---consumer
|       |   |   |   |               |       OperationLogConsumer.java
|       |   |   |   |               |
|       |   |   |   |               +---dto
|       |   |   |   |               |       OperationLogMessage.java
|       |   |   |   |               |
|       |   |   |   |               +---entity
|       |   |   |   |               |       OperationLog.java
|       |   |   |   |               |
|       |   |   |   |               +---repository
|       |   |   |   |               |       OperationLogRepository.java
|       |   |   |   |               |
|       |   |   |   |               \---service
|       |   |   |   |                   |   LoggingService.java
|       |   |   |   |                   |
|       |   |   |   |                   \---impl
|       |   |   |   |                           LoggingServiceImpl.java
|       |   |   |   |
|       |   |   |   \---resources
|       |   |   |           application.yml
|       |   |   |
|       |   |   \---test
|       |   |       \---java
|       |   \---target
|       |       +---classes
|       |       |   |   application.yml
|       |       |   |
|       |       |   \---com
|       |       |       \---digit
|       |       |           \---logging
|       |       |               |   LoggingServiceApplication.class
|       |       |               |
|       |       |               +---consumer
|       |       |               |       OperationLogConsumer.class
|       |       |               |
|       |       |               +---dto
|       |       |               |       OperationLogMessage$OperationLogMessageBuilder.class
|       |       |               |       OperationLogMessage.class
|       |       |               |
|       |       |               +---entity
|       |       |               |       OperationLog$OperationLogBuilder.class
|       |       |               |       OperationLog.class
|       |       |               |
|       |       |               +---repository
|       |       |               |       OperationLogRepository.class
|       |       |               |
|       |       |               \---service
|       |       |                   |   LoggingService.class
|       |       |                   |
|       |       |                   \---impl
|       |       |                           LoggingServiceImpl.class
|       |       |
|       |       +---generated-sources
|       |       |   \---annotations
|       |       \---test-classes
|       +---permission-service
|       |   |   pom.xml
|       |   |
|       |   +---src
|       |   |   +---main
|       |   |   |   +---java
|       |   |   |   |   \---com
|       |   |   |   |       \---digit
|       |   |   |   |           \---permission
|       |   |   |   |               |   PermissionServiceApplication.java
|       |   |   |   |               |
|       |   |   |   |               +---config
|       |   |   |   |               |       RoleInitializer.java
|       |   |   |   |               |
|       |   |   |   |               +---controller
|       |   |   |   |               |       InternalPermissionController.java
|       |   |   |   |               |
|       |   |   |   |               +---dto
|       |   |   |   |               |       UserRoleResponse.java
|       |   |   |   |               |
|       |   |   |   |               +---entity
|       |   |   |   |               |       Role.java
|       |   |   |   |               |       UserRole.java
|       |   |   |   |               |
|       |   |   |   |               +---repository
|       |   |   |   |               |       RoleRepository.java
|       |   |   |   |               |       UserRoleRepository.java
|       |   |   |   |               |
|       |   |   |   |               \---service
|       |   |   |   |                   |   PermissionService.java
|       |   |   |   |                   |
|       |   |   |   |                   \---impl
|       |   |   |   |                           PermissionServiceImpl.java
|       |   |   |   |
|       |   |   |   \---resources
|       |   |   |           application.yml
|       |   |   |
|       |   |   \---test
|       |   |       \---java
|       |   \---target
|       |       +---classes
|       |       |   |   application.yml
|       |       |   |
|       |       |   \---com
|       |       |       \---digit
|       |       |           \---permission
|       |       |               |   PermissionServiceApplication.class
|       |       |               |
|       |       |               +---config
|       |       |               |       RoleInitializer.class
|       |       |               |
|       |       |               +---controller
|       |       |               |       InternalPermissionController.class
|       |       |               |
|       |       |               +---dto
|       |       |               |       UserRoleResponse$UserRoleResponseBuilder.class
|       |       |               |       UserRoleResponse.class
|       |       |               |
|       |       |               +---entity
|       |       |               |       Role.class
|       |       |               |       UserRole.class
|       |       |               |
|       |       |               +---repository
|       |       |               |       RoleRepository.class
|       |       |               |       UserRoleRepository.class
|       |       |               |
|       |       |               \---service
|       |       |                   |   PermissionService.class
|       |       |                   |
|       |       |                   \---impl
|       |       |                           PermissionServiceImpl.class
|       |       |
|       |       +---generated-sources
|       |       |   \---annotations
|       |       \---test-classes
|       \---user-service
|           |   pom.xml
|           |
|           +---src
|           |   +---main
|           |   |   +---java
|           |   |   |   \---com
|           |   |   |       \---digit
|           |   |   |           \---user
|           |   |   |               |   UserServiceApplication.java
|           |   |   |               |
|           |   |   |               +---config
|           |   |   |               |       SecurityConfig.java
|           |   |   |               |
|           |   |   |               +---controller
|           |   |   |               |       UserController.java
|           |   |   |               |
|           |   |   |               +---dto
|           |   |   |               |       ApiResponse.java
|           |   |   |               |       HttpStatusCode.java
|           |   |   |               |       OperationLogMessage.java
|           |   |   |               |       UserRegisterDTO.java
|           |   |   |               |
|           |   |   |               +---entity
|           |   |   |               |       User.java
|           |   |   |               |
|           |   |   |               +---exception
|           |   |   |               |       GlobalExceptionHandler.java
|           |   |   |               |
|           |   |   |               +---rcp
|           |   |   |               |       PermissionFeignClient.java
|           |   |   |               |
|           |   |   |               +---repository
|           |   |   |               |       UserRepository.java
|           |   |   |               |
|           |   |   |               +---service
|           |   |   |               |   |   UserService.java
|           |   |   |               |   |
|           |   |   |               |   \---impl
|           |   |   |               |           UserServiceImpl.java
|           |   |   |               |
|           |   |   |               +---util
|           |   |   |               |       IpAddressUtil.java
|           |   |   |               |
|           |   |   |               \---vo
|           |   |   |                       UserRegisterVO.java
|           |   |   |
|           |   |   \---resources
|           |   |           application.yml
|           |   |
|           |   \---test
|           |       \---java
|           |           \---com
|           |               \---digit
|           |                   \---user
|           |                       \---util
|           \---target
|               +---classes
|               |   |   application.yml
|               |   |
|               |   \---com
|               |       \---digit
|               |           \---user
|               |               |   UserServiceApplication.class
|               |               |
|               |               +---config
|               |               |       SecurityConfig.class
|               |               |
|               |               +---controller
|               |               |       UserController.class
|               |               |
|               |               +---dto
|               |               |       ApiResponse.class
|               |               |       HttpStatusCode.class
|               |               |       OperationLogMessage$OperationLogMessageBuilder.class
|               |               |       OperationLogMessage.class
|               |               |       UserRegisterDTO.class
|               |               |
|               |               +---entity
|               |               |       User$UserBuilder.class
|               |               |       User.class
|               |               |
|               |               +---exception
|               |               |       GlobalExceptionHandler.class
|               |               |
|               |               +---rcp
|               |               |       PermissionFeignClient.class
|               |               |       PermissionFeignClientFallback.class
|               |               |       UserRoleResponse.class
|               |               |
|               |               +---repository
|               |               |       UserRepository.class
|               |               |
|               |               +---service
|               |               |   |   UserService.class
|               |               |   |
|               |               |   \---impl
|               |               |           UserServiceImpl.class
|               |               |
|               |               +---util
|               |               |       IpAddressUtil.class
|               |               |
|               |               \---vo
|               |                       UserRegisterVO.class
|               |
|               +---generated-sources
|               |   \---annotations
|               +---generated-test-sources
|               |   \---test-annotations
|               \---test-classes
|                   \---com
|                       \---digit
|                           \---user
|                               \---util
+---docs
|       系统设计.md
|       项目实现说明文档.md
|
\---sql_ddl
        ddl.sql

```

## 关键文件内容
```yaml
version: '3.8'
services:
  # 1. MySQL 数据库
  mysql:
    image: mysql:8.0
    container_name: mysql
    ports:
      - "33060:3306"
    environment:
      - MYSQL_ROOT_PASSWORD=root
    volumes:
      - mysql-data:/var/lib/mysql
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      interval: 10s
      timeout: 5s
      retries: 5

  # 2. 用于服务发现和配置的 Nacos
  nacos:
    image: nacos/nacos-server:v2.4.3
    container_name: nacos
    ports:
      - "18848:8848" # Server
      - "19848:9848" # gRPC for clients
      - "19849:9849" # gRPC for client TLS (optional)
    environment:
      - PREFER_HOST_MODE=hostname
      - MODE=standalone # 为简单起见，使用单机模式
      - NACOS_AUTH_ENABLE=false # 生产环境请开启认证
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8848/nacos/actuator/health"]
      interval: 10s
      timeout: 5s
      retries: 5
    depends_on:
      mysql:
        condition: service_healthy # 确保 MySQL 启动后再启动 Nacos (如果 Nacos 使用外部MySQL)

  # 3. RocketMQ 消息队列 - NameServer（名称服务器）
  # NameServer 是 RocketMQ 的路由信息中心，负责管理 Broker 的路由信息
  namesrv:
    image: apache/rocketmq:5.3.2 # 使用 RocketMQ 5.3.2 版本
    container_name: rmqnamesrv
    ports:
      - 19876:9876 # NameServer 默认端口
    networks:
      - rocketmq # 使用自定义网络，便于服务间通信
    command: sh mqnamesrv # 启动 NameServer

  # 4. RocketMQ Broker（消息代理服务器）
  # Broker 负责消息的存储、转发和查询，以及 HA 保证
  broker:
    image: apache/rocketmq:5.3.2
    container_name: rmqbroker
    ports:
      - 20909:10909 # Broker 对外服务端口（用于客户端连接）
      - 20911:10911 # Broker 主从同步端口
      - 20912:10912 # Broker 管理端口
    environment:
      - NAMESRV_ADDR=rmqnamesrv:9876 # 指定 NameServer 地址
    depends_on:
      - namesrv # 依赖 NameServer 先启动
    networks:
      - rocketmq
    command: sh mqbroker # 启动 Broker

  # 5. RocketMQ Proxy（代理服务）
  # RocketMQ 5.x 新增的代理层，提供统一的客户端接入点
  proxy:
    image: apache/rocketmq:5.3.2
    container_name: rmqproxy
    networks:
      - rocketmq
    depends_on:
      - broker # 依赖 Broker 先启动
      - namesrv # 依赖 NameServer 先启动
    ports:
      - 18080:8080 # Proxy HTTP 端口（用于管理和监控）
      - 18081:8081 # Proxy gRPC 端口（用于客户端连接）
    restart: on-failure # 失败时自动重启
    environment:
      - NAMESRV_ADDR=rmqnamesrv:9876 # 指定 NameServer 地址
    command: sh mqproxy # 启动 Proxy 服务

  # 6. 分布式事务协调器 - Seata Server
  # Seata 是阿里巴巴开源的分布式事务解决方案，提供 AT、TCC、SAGA 和 XA 事务模式
  seata-server:
    image: seataio/seata-server:1.7.0 # 使用 Seata 1.7.0 版本
    container_name: seata-server
    ports:
      - "18091:8091" # Transaction Coordinator (TC) 端口，用于事务协调
    environment:
      - SEATA_STORE_MODE=file # 事务日志存储模式：file（文件）或 db（数据库）
      # 生产环境建议使用数据库存储模式以保证高可用
      # - SEATA_PORT=8091 # Seata 服务端口（默认8091）
      # - SEATA_IP=0.0.0.0 # 监听所有网络接口
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8091"] # 健康检查：检查 Seata 服务是否可用
      interval: 10s # 每10秒检查一次
      timeout: 5s # 检查超时时间5秒
      retries: 5 # 失败重试5次

# 网络配置
networks:
  rocketmq:
    driver: bridge # 使用桥接网络，允许 RocketMQ 各组件之间通信

# 数据卷配置 - 用于数据持久化存储
volumes:
  mysql-data: # MySQL 数据存储卷
  rocketmq-broker-logs: # RocketMQ Broker 日志存储卷
  rocketmq-broker-store: # RocketMQ Broker 消息存储卷
```

```sql
-- 创建数据库 user_db_0
CREATE DATABASE IF NOT EXISTS user_db_0 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE user_db_0;

-- 分表 1
CREATE TABLE users_0 (
                         `user_id` BIGINT NOT NULL COMMENT '用户ID (雪花算法生成)',
                         `username` VARCHAR(50) NOT NULL COMMENT '用户名',
                         `password` VARCHAR(255) NOT NULL COMMENT '加密后的密码',
                         `email` VARCHAR(100) NULL COMMENT '邮箱',
                         `phone` VARCHAR(20) NULL COMMENT '手机号',
                         `gmt_create` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                         `gmt_modified` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
                         PRIMARY KEY (`user_id`),
                         UNIQUE KEY `uk_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户表分片0';

-- 分表 2
CREATE TABLE users_1 (
                         `user_id` BIGINT NOT NULL COMMENT '用户ID (雪花算法生成)',
                         `username` VARCHAR(50) NOT NULL COMMENT '用户名',
                         `password` VARCHAR(255) NOT NULL COMMENT '加密后的密码',
                         `email` VARCHAR(100) NULL COMMENT '邮箱',
                         `phone` VARCHAR(20) NULL COMMENT '手机号',
                         `gmt_create` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                         `gmt_modified` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
                         PRIMARY KEY (`user_id`),
                         UNIQUE KEY `uk_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户表分片1';


-- ----------------------------------------------------------------------------------------------
--  divide
-- ----------------------------------------------------------------------------------------------


-- 创建数据库 user_db_1
CREATE DATABASE IF NOT EXISTS user_db_1 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE user_db_1;

-- 分表 1
CREATE TABLE users_0 (
                         `user_id` BIGINT NOT NULL COMMENT '用户ID (雪花算法生成)',
                         `username` VARCHAR(50) NOT NULL COMMENT '用户名',
                         `password` VARCHAR(255) NOT NULL COMMENT '加密后的密码',
                         `email` VARCHAR(100) NULL COMMENT '邮箱',
                         `phone` VARCHAR(20) NULL COMMENT '手机号',
                         `gmt_create` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                         `gmt_modified` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
                         PRIMARY KEY (`user_id`),
                         UNIQUE KEY `uk_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户表分片0';

-- 分表 2
CREATE TABLE users_1 (
                         `user_id` BIGINT NOT NULL COMMENT '用户ID (雪花算法生成)',
                         `username` VARCHAR(50) NOT NULL COMMENT '用户名',
                         `password` VARCHAR(255) NOT NULL COMMENT '加密后的密码',
                         `email` VARCHAR(100) NULL COMMENT '邮箱',
                         `phone` VARCHAR(20) NULL COMMENT '手机号',
                         `gmt_create` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                         `gmt_modified` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
                         PRIMARY KEY (`user_id`),
                         UNIQUE KEY `uk_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户表分片1';


-- ----------------------------------------------------------------------------------------------
--  divide
-- ----------------------------------------------------------------------------------------------


-- 创建数据库 permission_db
CREATE DATABASE IF NOT EXISTS permission_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE permission_db;

-- 1. 角色表 (roles)
CREATE TABLE roles (
                       `role_id` INT NOT NULL AUTO_INCREMENT COMMENT '角色ID',
                       `role_code` VARCHAR(20) NOT NULL COMMENT '角色代码 (程序中使用)',
                       `role_name` VARCHAR(50) NOT NULL COMMENT '角色名称 (用于显示)',
                       `gmt_create` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                       PRIMARY KEY (`role_id`),
                       UNIQUE KEY `uk_role_code` (`role_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='角色信息表';

-- 2. 用户-角色关系表 (user_roles)
CREATE TABLE user_roles (
                            `id` BIGINT NOT NULL AUTO_INCREMENT COMMENT '自增主键',
                            `user_id` BIGINT NOT NULL COMMENT '用户ID (关联users表的user_id)',
                            `role_id` INT NOT NULL COMMENT '角色ID (关联roles表的role_id)',
                            `gmt_create` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                            PRIMARY KEY (`id`),
                            UNIQUE KEY `uk_user_id` (`user_id`),
                            KEY `idx_role_id` (`role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户角色关系表';

-- 初始化数据
INSERT INTO `roles` (`role_id`, `role_code`, `role_name`) VALUES
                                                              (1, 'super_admin', '超级管理员'),
                                                              (2, 'admin', '管理员'),
                                                              (3, 'user', '普通用户');

-- 初始化一个超级管理员，设其 user_id 为 1
INSERT INTO `user_roles` (`user_id`, `role_id`) VALUES (1, 1);


-- ----------------------------------------------------------------------------------------------
--  divide
-- ----------------------------------------------------------------------------------------------


-- 创建数据库 logging_db
CREATE DATABASE IF NOT EXISTS logging_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE logging_db;

CREATE TABLE operation_logs (
                                `log_id` BIGINT NOT NULL AUTO_INCREMENT COMMENT '日志ID',
                                `user_id` BIGINT NULL COMMENT '操作者用户ID',
                                `trace_id` VARCHAR(50) NULL COMMENT '分布式链路追踪ID',
                                `action` VARCHAR(50) NOT NULL COMMENT '操作类型 (如 REGISTER, UPDATE_USER)',
                                `ip` VARCHAR(45) NULL COMMENT '操作者IP地址',
                                `detail` TEXT NULL COMMENT '操作详情 (JSON格式, 记录修改内容等)',
                                `gmt_create` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '操作时间',
                                PRIMARY KEY (`log_id`),
                                KEY `idx_user_id_action` (`user_id`, `action`),
                                KEY `idx_gmt_create` (`gmt_create`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='操作日志表';
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.digit</groupId>
    <artifactId>pm-sys</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>pom</packaging>
    <modules>
        <module>user-service</module>
        <module>permission-service</module>
        <module>logging-service</module>
    </modules>
    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <java.version>17</java.version>
        <spring-boot.version>3.1.5</spring-boot.version>
        <spring-cloud.version>2022.0.4</spring-cloud.version>
        <spring-cloud-alibaba.version>2022.0.0.0</spring-cloud-alibaba.version>
        <sharding-sphere.version>5.4.0</sharding-sphere.version>
        <mysql-connector-java.version>8.0.33</mysql-connector-java.version>
        <rocketmq-spring-boot.version>2.3.3</rocketmq-spring-boot.version>
        <lombok.version>1.18.30</lombok.version>
        <hutool.version>5.8.22</hutool.version>
        <!-- Swagger和文档相关版本 - 升级到兼容Spring Boot 3的版本 -->
        <springdoc-openapi.version>2.2.0</springdoc-openapi.version>
        <swagger-annotations.version>2.2.15</swagger-annotations.version>
        <maven-javadoc-plugin.version>3.6.0</maven-javadoc-plugin.version>
        <!-- 强制指定 SnakeYAML 的版本 - Spring Boot 3兼容版本 -->
        <snakeyaml.version>2.0</snakeyaml.version>
    </properties>
    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>io.seata</groupId>
                <artifactId>seata-bom</artifactId>
                <version>1.7.0</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>org.yaml</groupId>
                <artifactId>snakeyaml</artifactId>
                <version>2.0</version>
            </dependency>
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-dependencies</artifactId>
                <version>${spring-boot.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>org.springframework.cloud</groupId>
                <artifactId>spring-cloud-dependencies</artifactId>
                <version>${spring-cloud.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>com.alibaba.cloud</groupId>
                <artifactId>spring-cloud-alibaba-dependencies</artifactId>
                <version>${spring-cloud-alibaba.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            <dependency>
                <groupId>org.apache.shardingsphere</groupId>
                <artifactId>shardingsphere-jdbc-core-spring-boot-starter</artifactId>
                <version>${sharding-sphere.version}</version>
            </dependency>
            <dependency>
                <groupId>com.mysql</groupId>
                <artifactId>mysql-connector-j</artifactId>
                <version>${mysql-connector-java.version}</version>
            </dependency>
            <!-- RocketMQ Spring Boot Starter -->
            <dependency>
                <groupId>org.apache.rocketmq</groupId>
                <artifactId>rocketmq-spring-boot-starter</artifactId>
                <version>${rocketmq-spring-boot.version}</version>
                <exclusions>
                    <exclusion>
                        <groupId>org.apache.tomcat</groupId>
                        <artifactId>annotations-api</artifactId>
                    </exclusion>
                </exclusions>
            </dependency>
            <!-- Lombok -->
            <dependency>
                <groupId>org.projectlombok</groupId>
                <artifactId>lombok</artifactId>
                <version>${lombok.version}</version>
                <optional>true</optional>
            </dependency>
            <!-- Hutool工具类库 -->
            <dependency>
                <groupId>cn.hutool</groupId>
                <artifactId>hutool-all</artifactId>
                <version>${hutool.version}</version>
            </dependency>
            <!-- SpringDoc OpenAPI 3 (Swagger) - Spring Boot 3兼容版本 -->
            <dependency>
                <groupId>org.springdoc</groupId>
                <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
                <version>${springdoc-openapi.version}</version>
            </dependency>
            <!-- Swagger Annotations -->
            <dependency>
                <groupId>io.swagger.core.v3</groupId>
                <artifactId>swagger-annotations</artifactId>
                <version>${swagger-annotations.version}</version>
            </dependency>
        </dependencies>
    </dependencyManagement>
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <version>${spring-boot.version}</version>
            </plugin>
            <!-- Maven Javadoc Plugin -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-javadoc-plugin</artifactId>
                <version>${maven-javadoc-plugin.version}</version>
                <configuration>
                    <source>17</source>
                    <encoding>UTF-8</encoding>
                    <charset>UTF-8</charset>
                    <docencoding>UTF-8</docencoding>
                    <additionalJOptions>
                        <additionalJOption>-Xdoclint:none</additionalJOption>
                    </additionalJOptions>
                </configuration>
                <!--<executions>
                    <execution>
                        <id>attach-javadocs</id>
                        <goals>
                            <goal>jar</goal>
                        </goals>
                    </execution>
                </executions>-->
            </plugin>
        </plugins>
    </build>
</project>
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>com.digit</groupId>
        <artifactId>pm-sys</artifactId>
        <version>1.0-SNAPSHOT</version>
    </parent>

    <artifactId>user-service</artifactId>

    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <!-- 添加 Spring Cloud LoadBalancer 依赖 -->
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-loadbalancer</artifactId>
        </dependency>
        <!-- Web 框架 -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <!-- 参数校验 -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-validation</artifactId>
        </dependency>
        <!-- Nacos 服务发现 -->
        <dependency>
            <groupId>com.alibaba.cloud</groupId>
            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
        </dependency>
        <!-- OpenFeign 客户端 -->
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-openfeign</artifactId>
        </dependency>
        <!-- Seata 分布式事务 -->
        <dependency>
            <groupId>com.alibaba.cloud</groupId>
            <artifactId>spring-cloud-starter-alibaba-seata</artifactId>
        </dependency>
        <!-- ShardingSphere-JDBC -->
        <dependency>
            <groupId>org.apache.shardingsphere</groupId>
            <artifactId>shardingsphere-jdbc-core-spring-boot-starter</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>org.yaml</groupId>
                    <artifactId>snakeyaml</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <!-- 显式引入兼容的 SnakeYAML 版本 -->
        <dependency>
            <groupId>org.yaml</groupId>
            <artifactId>snakeyaml</artifactId>
            <version>2.0</version>
        </dependency>
        <!-- RocketMQ 生产者 -->
        <dependency>
            <groupId>org.apache.rocketmq</groupId>
            <artifactId>rocketmq-spring-boot-starter</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.tomcat</groupId>
                    <artifactId>annotations-api</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <!-- JPA & MySQL -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        <!-- 工具类 -->
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>cn.hutool</groupId>
            <artifactId>hutool-all</artifactId>
        </dependency>
        <!-- Swagger API文档 - Spring Boot 3兼容版本 -->
        <dependency>
            <groupId>org.springdoc</groupId>
            <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
        </dependency>
        <dependency>
            <groupId>io.swagger.core.v3</groupId>
            <artifactId>swagger-annotations</artifactId>
        </dependency>
    </dependencies>


</project>
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>com.digit</groupId>
        <artifactId>pm-sys</artifactId>
        <version>1.0-SNAPSHOT</version>
    </parent>

    <artifactId>permission-service</artifactId>

    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>com.alibaba.cloud</groupId>
            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        <!-- Swagger API文档 - Spring Boot 3兼容版本 -->
        <dependency>
            <groupId>org.springdoc</groupId>
            <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
        </dependency>
        <dependency>
            <groupId>io.swagger.core.v3</groupId>
            <artifactId>swagger-annotations</artifactId>
        </dependency>
        <!-- Lombok -->
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
    </dependencies>

</project>
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>com.digit</groupId>
        <artifactId>pm-sys</artifactId>
        <version>1.0-SNAPSHOT</version>
    </parent>

    <artifactId>logging-service</artifactId>

    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <!-- Web 框架 -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <!-- Nacos 服务发现 -->
        <dependency>
            <groupId>com.alibaba.cloud</groupId>
            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
        </dependency>
        <!-- RocketMQ 消费者 -->
        <dependency>
            <groupId>org.apache.rocketmq</groupId>
            <artifactId>rocketmq-spring-boot-starter</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.tomcat</groupId>
                    <artifactId>annotations-api</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <!-- 数据库相关 -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        <!-- 工具类 -->
        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <optional>true</optional>
        </dependency>
        <dependency>
            <groupId>cn.hutool</groupId>
            <artifactId>hutool-all</artifactId>
        </dependency>
        <!-- Swagger API文档 - Spring Boot 3兼容版本 -->
        <dependency>
            <groupId>org.springdoc</groupId>
            <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
        </dependency>
        <dependency>
            <groupId>io.swagger.core.v3</groupId>
            <artifactId>swagger-annotations</artifactId>
        </dependency>
    </dependencies>

</project>
```

```plain
## Seata Server Transaction Service Config
## More details in https://seata.io/docs/user/configurations/

# an integer between 1 and 20000
transport.threadFactory.bossThreadSize = 1
transport.threadFactory.workerThreadSize = 1
transport.threadFactory.serverExecutor.core.pool.size = 10
transport.threadFactory.serverExecutor.max.pool.size = 20
transport.threadFactory.serverExecutor.keep.alive.time = 600

## For Rpc Netty Server
transport.server = 8091

## For Store
store.mode = "file"
store.file.dir = "sessionStore"
store.file.maxBranchSessionSize = 16384
store.file.maxGlobalSessionSize = 512
store.file.fileWriteBufferCacheSize = 16384
store.file.session.reload.read-size=100

## For Transaction
transaction.undo.data.validation = true
transaction.undo.log.serialization = "jackson"
transaction.undo.log.table = "undo_log"
transaction.support.spring.datasource.autoproxy=true

## For Client
## This is the key setting for your problem!
## disable the auto data source proxy for Seata client
service.enableAutoDataSourceProxy = false

## 客户端连接的地址和事务组配置
## 这里的配置将会被客户端读取并使用
service.vgroup_mapping.user_tx_group = default
service.default.grouplist = localhost:18091
```

